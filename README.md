# Test_workmate
Тестовое задание: Анализ эффективности работы разработчиков

## Структура проекта:
- `main.py` — основной скрипт для запуска
- `file_processing.py` - чтение csv-файлов
- `reports/` - папка с классами отчетов
- `tests/` - папка с тестами, выполненными с помощью `pytest` 

## Параметры:
- `--files` — один или несколько CSV-файлов с работниками
- `--report` — тип отчета. Доступные варианты:
  - `performance` — средняя эффективность по позиции

## Запуск скрипта:
Для проверки сркипта можно использовать следующую команду (из папки проекта):  
```python main.py --files employees1.csv employees2.csv --report performance```    
Пример результата работы программы при успешном запуске представлен на картинке:    

<img width="352" height="168" alt="image" src="https://github.com/user-attachments/assets/998a4ae3-284e-4570-82c5-c446e4e324ea" />

Пример запуска с ненайденными файлами:    

<img width="304" height="29" alt="image" src="https://github.com/user-attachments/assets/182b52c0-1ff6-4d2a-84d5-a5cbfbc625ef" />

## Запуск тестов с отображением покрытия:  
Для запуска тестов с отображением покрытия можно использовать следующую команду:  
```pytest --cov=. tests/```  
С просмотром непокрытых строк:  
```pytest --cov=. tests/ --cov-report=term-missing```  
Отчет по покрытию представлен на картинке:    

<img width="460" height="325" alt="image" src="https://github.com/user-attachments/assets/57f1c7da-926b-4ddb-9274-ec5d78753646" />

## Расширяемость кода:
Инструкция по добавлению новых отчетов:  
### 1. Создать новый класс отчета  
В папке `reports` создаем новый класс с необходимым отчетом. Указываем название отчета, которое будет использоваться при запуске, указываем заголовки таблицы отчета и прописываем функционал для вычислений.    
Пример созданного класса можно посмотреть в файле `reports/performance_report.py`
### 2. Импортируем отчет в основной файл  
Для того, чтобы базовый класс зарегистрировал новый дочерний, его необходимо импортировать в основной файл `main.py`. Импорт в файле:    
`from reports.performance_report import PerformanceReport  # pylint: disable=unused-import`
### 3. Использовать отчёт через командную строку  
После импорта и регистрации новый отчёт становится доступен для запуска
